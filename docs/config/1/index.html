<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-255c7faf55c3a4f250ce.js" as="script"/><link rel="preload" href="/component---src-templates-documentation-js-4b0c5f930dbf492d32eb.js" as="script"/><link rel="preload" href="/path---docs-config-1-952c71f505ed2d716324.js" as="script"/><link rel="preload" href="/app-66130810a8343708a1ba.js" as="script"/><link rel="preload" href="/commons-19d79a17a09d63cc1b27.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-66130810a8343708a1ba.js","148510041631291":"component---src-templates-redirect-js-0387a4119853d0422d27.js","257299246428946":"component---src-templates-documentation-js-4b0c5f930dbf492d32eb.js","162898551421021":"component---src-pages-404-js-47bf3d5c9fc056d6f914.js","220445717415976":"component---src-pages-docs-js-349b838d828caa26ae77.js","35783957827783":"component---src-pages-index-js-349b838d828caa26ae77.js","60335399758886":"path----557518bd178906f8d58a.js","207607444774565":"path---docs-config-303b56b6b8eff5757338.js","252916380910354":"path---docs-config-1-952c71f505ed2d716324.js","30517571101605":"path---docs-config-2-ea721b633fbe1add84a0.js","154662775827693":"path---docs-config-3-726618aa782f617d33d5.js","102553297614329":"path---docs-config-4-c2f89de675340045218a.js","13772568562342":"path---docs-config-5-4f198d453cf463d54d38.js","189349151444403":"path---docs-config-6-2abefe2673c3c5ce1532.js","59921319215614":"path---docs-config-7-ffd8923563dad170d6e2.js","234853530556015":"path---docs-config-8-bcfa32a87a2d40b08bdd.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","131064894521161":"path---docs-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-255c7faf55c3a4f250ce.js"}
            //]]>
            </script><style type="text/css" data-styled-components="QgWiq fdxCvc bCJHnt eCqvNs cSjYwS hGknXC cwazCA cYXfOo hakkzn" data-styled-components-is-local="true">/* sc-component-id: sc-bwzfXH */

.QgWiq{border-bottom:1px solid #f0f0f0;position:fixed;top:0;left:0;background:white;width:100%;z-index:99;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-between;-webkit-justify-content:space-between;-ms-flex-pack:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid rgba(1,1,1,.6);background-color:rgb(47,47,47);}.QgWiq .header-main{width:1200px;margin:0 50px;height:50px;}.QgWiq ul{padding:0;list-style:none;margin:0;}.QgWiq li{display:inline-block;margin:0 1em;}.QgWiq a{color:inherit;font-weight:inherit;text-decoration:none;}.QgWiq .active{color:#345;font-weight:600;}
/* sc-component-id: sc-htpNat */

.fdxCvc{position:fixed;padding:0 2em 4em 2em;height:100vh;width:15%;overflow:auto;background:#f9fbfd;border-right:1px solid #f0f0f0;}@media only screen and (max-width:650px){.fdxCvc{width:100%;position:relative;height:auto;border-right:0;border-bottom:1px solid #f0f0f0;}}
/* sc-component-id: sc-bxivhb */

.bCJHnt{list-style:none;padding:0;margin-top:2em;}

.cSjYwS{list-style:none;padding:0;margin-top:1em;}
/* sc-component-id: sc-ifAKCX */

.eCqvNs{margin:0 0 1em 0;padding:0;font-weight:600;}.eCqvNs a{color:inherit;text-decoration:none;}.eCqvNs a.active{color:#345;font-weight:600;}

.hGknXC{margin:0 0 1em 0;padding:0;font-weight:600;font-weight:400;font-size:.8rem;margin-left:1em;margin-bottom:.75em;}.hGknXC a{color:inherit;text-decoration:none;}.hGknXC a.active{color:#345;font-weight:600;}
/* sc-component-id: sc-gZMcBi */

.cwazCA{float:left;width:60%;margin-left:20%;padding:2em 4em;}@media only screen and (max-width:650px){.cwazCA{width:100%;margin:0;}}
/* sc-component-id: sc-gqjmRU */

.hakkzn code{background:#f4f7fb;padding:0 0.25em;font-size:0.95em;border-radius:3px;font-family:;}.hakkzn .gatsby-highlight pre{background:#f9fbfd;border:1px solid #ececec;border-radius:3px;padding:0.5em 1em;overflow:auto;margin:0 0 1em 0;}.hakkzn .gatsby-highlight code{background:none;color:inherit;padding:0;border-radius:0;}.hakkzn table{border:1px solid #ececec;overflow:hidden;border-collapse:separate;border-spacing:0;width:100%;margin:1em 0;border-radius:3px;}.hakkzn th{font-weight:600;}.hakkzn h3{margin:0.5em 0;}.hakkzn th:empty{display:none;}.hakkzn td,.hakkzn th{text-align:left;padding:0.375em 0.75em 0.375em 0.75em;}.hakkzn td{line-height:1.75em;vertical-align:top;}.hakkzn .bordered-table table{border-width:0 1px 1px 0;}.hakkzn .bordered-table td,.hakkzn .bordered-table th{border:1px solid #ececec;border-right:0;border-bottom-width:0;}.hakkzn .fixed-table table{table-layout:fixed;}.hakkzn .attributes-table td{line-height:1.5em;}.hakkzn .attributes-table td:first-child{text-align:right;line-height:1em;}.hakkzn .attributes-table strong{white-space:nowrap;}.hakkzn small{color:#888;display:block;margin-top:0.25em;font-size:0.8em;font-weight:400;line-height:1em;}.hakkzn img{display:block;margin:1rem auto;width:98%;}
/* sc-component-id: sc-VigVT */

.cYXfOo{padding:0 0 0.25em 0;margin-bottom:1.5em;border-bottom:1px solid #DDD;}.cYXfOo h1{margin-top:0;margin-bottom:0.5em;}
</style><title data-react-helmet="true">源站配置</title><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = location.hash.replace('#', '')
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-19d79a17a09d63cc1b27.js","/app-66130810a8343708a1ba.js","/path---docs-config-1-952c71f505ed2d716324.js","/component---src-templates-documentation-js-4b0c5f930dbf492d32eb.js","/component---src-layouts-index-js-255c7faf55c3a4f250ce.js"
])
  </script><style id="gatsby-inlined-css">*{position:relative;box-sizing:border-box}body{margin:0;padding:0;font-family:Muli,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;color:#333}h1,h2,h3,h4,h5,h6{margin:1.25em 0 .666666667em}h1{font-size:1.8em}h1,h2{font-weight:600}h2{font-size:1.5em}h3{font-size:1.25em}h3,h4{font-weight:600}h4{font-size:1.15em}h5{font-size:1em}h5,h6{font-weight:600}h6{font-size:.875em}p{line-height:1.75em;margin:0 0 1em}hr{border:1px solid #f0f0f0}a,a:hover{color:#2097e4}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-1055439154"><!-- react-empty: 2 --><div data-reactid="3"><!-- react-empty: 4 --><div data-reactid="5"><header class="sc-bwzfXH QgWiq" data-reactid="6"><div class="header-main" data-reactid="7"><img style="height:26px;margin-top:12px;" src="/baishan-white-logo.svg" data-reactid="8"/></div></header><div style="height:50px;" data-reactid="9"></div></div><nav class="sc-htpNat fdxCvc" data-reactid="10"><ul class="sc-bxivhb bCJHnt" data-reactid="11"><li class="sc-ifAKCX eCqvNs" data-reactid="12"><a href="/docs/config/1" data-reactid="13">用户指南</a><ul class="sc-bxivhb cSjYwS" data-reactid="14"><li class="sc-ifAKCX hGknXC" data-reactid="15"><a class="active" href="/docs/config/1" data-reactid="16">源站配置</a></li><li class="sc-ifAKCX hGknXC" data-reactid="17"><a class="" href="/docs/config/2" data-reactid="18">回源HOST</a></li><li class="sc-ifAKCX hGknXC" data-reactid="19"><a class="" href="/docs/config/3" data-reactid="20">缓存规则</a></li><li class="sc-ifAKCX hGknXC" data-reactid="21"><a class="" href="/docs/config/4" data-reactid="22">IP黑名单</a></li><li class="sc-ifAKCX hGknXC" data-reactid="23"><a class="" href="/docs/config/5" data-reactid="24">Referer黑白名单</a></li><li class="sc-ifAKCX hGknXC" data-reactid="25"><a class="" href="/docs/config/6" data-reactid="26">HTTP头配置</a></li><li class="sc-ifAKCX hGknXC" data-reactid="27"><a class="" href="/docs/config/7" data-reactid="28">跟随301/302跳转</a></li><li class="sc-ifAKCX hGknXC" data-reactid="29"><a class="" href="/docs/config/8" data-reactid="30">限速规则</a></li></ul></li></ul></nav><main class="sc-gZMcBi cwazCA" data-reactid="31"><header class="sc-VigVT cYXfOo" data-reactid="32"><h1 data-reactid="33">源站配置</h1><!-- react-text: 34 --><!-- /react-text --></header><div class="sc-gqjmRU hakkzn" data-reactid="35"><ul>
<li>配置指引</li>
<li>配置案例</li>
</ul>
<h3 id="配置指引"><a href="#%E9%85%8D%E7%BD%AE%E6%8C%87%E5%BC%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配置指引</h3>
<ol>
<li>
<p>登录控制台，在左侧菜单栏域名管理内选择【域名配置】，选择域名，再选择添加配置。
<img src="/image/image-20181129222322266.png" alt="image-20181129222322266">
<img src="/image/image-20181115231836059.png" alt="image-20181115231836059"></p>
</li>
<li>
<p>配置参数以及各参数含义：</p>
<ul>
<li>默认源
默认源为必填项，源站类型可支持IP源和域名源。当配置多个ip作为源站时，CDN回源采用轮询策略，挑选一个IP进行回源。每个ip之间以英文逗号分隔。</li>
<li>备源
当回源请求主源失败时（包括5xx错误以及建联失败）后，会直接请求备源。非必填项</li>
<li>分运营商回源（联通源，电信源，移动源）
源站配置支持分运营商回源。若配置为默认源+电信,则默认源包括联通，即电信的回电信源，移动、联通以及其他运营商回默认源。非必填项</li>
<li>回源端口
可指定端口回源，端口号需要为0 ~ 65535 之间，该参数为非必填项，主要使用场景如下：</li>
<li>如果所有请求以http方式回源，则在输入框中填入80即可。</li>
<li>如果所有请求以https方式回源，则需要勾选【回源https】。</li>
<li>如果不填写，则回源端口和客户端请求的端口一致，例如客户请求到CDN节点82端口，则CDN节点回源时也是请求源站的82端口。</li>
</ul>
</li>
</ol>
<h3 id="配置案例"><a href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配置案例</h3>
<p>用户请求https内容：<a href="https://www.baishan.com/1.jpg">https://www.baishan.com/1.jpg</a>，未在节点命中，回源获取</p>
<ol>
<li>
<p>若源站配置如下
<img src="/image/image-20181115231922962.png" alt="image-20181115231922962"></p>
<p>CDN节点会从源站1.1.1.1和2.2.2.2中选择一个回源。如果客户端连接主源多次失败，则CDN节点会尝试连接备源3.3.3.3。并且该配置有配置回源端口为80，则向源站请求http资源：<a href="http://www.baishan.com/1.jpg">http://www.baishan.com/1.jpg</a></p>
</li>
<li>
<p>若配置源站如下
<img src="/image/image-20181115231948379.png" alt="image-20181115231948379"><br>
当客户端ip为联通时，则回源4.4.4.4。客户端非联通ip则回默认源。CDN节点回源请求保持和客户端的请求协议一致，则向源站请求https资源<a href="https://www.baishan.com/1.jpg">https://www.baishan.com/1.jpg</a></p>
</li>
</ol></div></main></div></div></div><script>
  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53870770-5', 'auto');
  
  ga('send', 'pageview');
      </script></body></html>